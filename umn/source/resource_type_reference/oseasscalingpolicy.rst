:original_name: rts_02_0077.html

.. _rts_02_0077:

OSE::AS::ScalingPolicy
======================

A resource for managing autoscaling policy.

Required Properties
-------------------

+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                              | Description                                                                                                                                                                                                                     |
+===================================+=================================================================================================================================================================================================================================+
| scaling_policy_name               | Autoscaling policy name.                                                                                                                                                                                                        |
|                                   |                                                                                                                                                                                                                                 |
|                                   | String value expected.                                                                                                                                                                                                          |
|                                   |                                                                                                                                                                                                                                 |
|                                   | Can be updated without replacement.                                                                                                                                                                                             |
|                                   |                                                                                                                                                                                                                                 |
|                                   | It is allowed to start with **numbers**, **letters**, \_, and **-** characters. It is allowed to include **numbers**, **letters**, \_, and **-** characters, and the string length is **1** to **64**.                          |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| scaling_group_id                  | Autoscaling group ID.                                                                                                                                                                                                           |
|                                   |                                                                                                                                                                                                                                 |
|                                   | String value expected.                                                                                                                                                                                                          |
|                                   |                                                                                                                                                                                                                                 |
|                                   | Updates cause replacement.                                                                                                                                                                                                      |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| scaling_policy_type               | The type of autoscaling policy.                                                                                                                                                                                                 |
|                                   |                                                                                                                                                                                                                                 |
|                                   | String value expected.                                                                                                                                                                                                          |
|                                   |                                                                                                                                                                                                                                 |
|                                   | Can be updated without replacement.                                                                                                                                                                                             |
|                                   |                                                                                                                                                                                                                                 |
|                                   | Allowed values: ALARM, SCHEDULED, RECURRENCE                                                                                                                                                                                    |
|                                   |                                                                                                                                                                                                                                 |
|                                   | -  ALARM: AS automatically increases or decreases the number of instances in an AS group or sets the number of instances to a specified value if Cloud Eye (CES) generates an alarm for a configured metric, such as CPU usage. |
|                                   | -  SCHEDULED: AS automatically increases or decreases the number of instances in an AS group or sets the number of instances to a specified value at a specified time.                                                          |
|                                   | -  RECURRENCE: AS increases or decreases the number of instances in an AS group or sets the number of instances to a specified value at a configured interval, such as one day, one week, or month.                             |
+-----------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Optional Properties
-------------------

+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Name                              | Description                                                                                                                                                                                                                                                                                                                             |
+===================================+=========================================================================================================================================================================================================================================================================================================================================+
| alarm_id                          | CES alarm rule ID, which must be selected when scaling_policy_type is ALARM.                                                                                                                                                                                                                                                            |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   | String value expected.                                                                                                                                                                                                                                                                                                                  |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   | Can be updated without replacement.                                                                                                                                                                                                                                                                                                     |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| scheduled_policy                  | The scheduled policy, which must be set when scaling_policy_type is SCHEDULED or RECURRENCE.                                                                                                                                                                                                                                            |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   | Map value expected.                                                                                                                                                                                                                                                                                                                     |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   | Can be updated without replacement.                                                                                                                                                                                                                                                                                                     |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   | *Map properties:*                                                                                                                                                                                                                                                                                                                       |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   | -  launch_time                                                                                                                                                                                                                                                                                                                          |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    The launch time of scheduled policy. If scaling_policy_type is SCHEDULED, the format is: YYYY-MM-DDThh: mmZ, else if scaling_policy_type is RECURRENCE, the format is: hh: mm.                                                                                                                                                       |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    String value expected.                                                                                                                                                                                                                                                                                                               |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    Can be updated without replacement.                                                                                                                                                                                                                                                                                                  |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   | -  recurrence_type                                                                                                                                                                                                                                                                                                                      |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    The recurrence type of scheduled policy, must be specified when scaling_policy_type is RECURRENCE.                                                                                                                                                                                                                                   |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    String value expected.                                                                                                                                                                                                                                                                                                               |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    Can be updated without replacement.                                                                                                                                                                                                                                                                                                  |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    Allowed values: Daily, Weekly and Monthly.                                                                                                                                                                                                                                                                                           |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   | -  recurrence_value                                                                                                                                                                                                                                                                                                                     |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    The recurrence value of scheduled policy. When the recurrence type is Daily, the recurrence value is null, indicating that it is executed every day. When the recurrence type is Weekly, the recurrence value is in the range 1-7 (1 for Sunday). When the recurrence type is Monthly, the recurrence value is in the range of 1-31. |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    String value expected.                                                                                                                                                                                                                                                                                                               |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    Can be updated without replacement.                                                                                                                                                                                                                                                                                                  |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   | -  start_time                                                                                                                                                                                                                                                                                                                           |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    The start time of scheduled policy, the format is: YYYY-MM-DDThh: mmZ.                                                                                                                                                                                                                                                               |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    String value expected.                                                                                                                                                                                                                                                                                                               |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    Can be updated without replacement.                                                                                                                                                                                                                                                                                                  |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   | -  end_time                                                                                                                                                                                                                                                                                                                             |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    The end time of scheduled policy, the format is: YYYY-MM-DDThh: mmZ, must be specified when scaling_policy_type is RECURRENCE.                                                                                                                                                                                                       |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    String value expected.                                                                                                                                                                                                                                                                                                               |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    Can be updated without replacement.                                                                                                                                                                                                                                                                                                  |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| scaling_policy_action             | Strategy to perform specific actions.                                                                                                                                                                                                                                                                                                   |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   | Map value expected.                                                                                                                                                                                                                                                                                                                     |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   | Can be updated without replacement.                                                                                                                                                                                                                                                                                                     |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   | *Map properties:*                                                                                                                                                                                                                                                                                                                       |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   | -  operation                                                                                                                                                                                                                                                                                                                            |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    The operation of scheduled policy action.                                                                                                                                                                                                                                                                                            |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    String value expected.                                                                                                                                                                                                                                                                                                               |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    Can be updated without replacement.                                                                                                                                                                                                                                                                                                  |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    Allowed values: ADD, REMOVE and SET                                                                                                                                                                                                                                                                                                  |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    Default value: ADD.                                                                                                                                                                                                                                                                                                                  |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   | -  instance_number                                                                                                                                                                                                                                                                                                                      |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    The instance number per operation.                                                                                                                                                                                                                                                                                                   |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    Integer value expected.                                                                                                                                                                                                                                                                                                              |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    Can be updated without replacement.                                                                                                                                                                                                                                                                                                  |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   |    Default value: 1                                                                                                                                                                                                                                                                                                                     |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| cool_down_time                    | Cool down period, in seconds.                                                                                                                                                                                                                                                                                                           |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   | Integer value expected.                                                                                                                                                                                                                                                                                                                 |
|                                   |                                                                                                                                                                                                                                                                                                                                         |
|                                   | Can be updated without replacement.                                                                                                                                                                                                                                                                                                     |
+-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

HOT Syntax
----------

.. code-block::

   heat_template_version: 2014-10-16
   ...
   resources:
     ...
     the_resource:
       type: OSE::AS::ScalingPolicy
       properties:
         scaling_policy_name: String
         scaling_group_id: String
         scaling_policy_type: String
         alarm_id: String
         scheduled_policy: String
         scaling_policy_action: {"operation":  String, "instance_number": Integer}
         cool_down_time: Integer
